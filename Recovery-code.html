<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- ? Main CSS -->
    <link rel="stylesheet" href="" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/fontawesome.min.css" />
    <!-- ? Custom CSS -->
    <link rel="stylesheet" href="css/dataTables.bootstrap5.min.css" />
    <link rel="stylesheet" href="css/nasra.css" />
    <!-- ? Custom CSS -->
    <!-- ? Main JavaScript -->
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/all.min.js"></script>
    <script src="js/fontawesome.min.js"></script>
    <!-- ? Main JavaScript -->
    <!-- ? Custom JavaScript -->
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="js/charts.js"></script>
    <script src="js/jquery.dataTables.min.js"></script>
    <script src="js/dataTables.bootstrap5.min.js"></script>
    <!-- ? Custom JavaScript -->

    <title>كود الاسترجاع</title>
  </head>
  <body>
    <section class="ath">
      <div class="regaster">
        <div class="container">
          <div class="log-in">
            <div class="img-log">
              <img src="mida/photo1.png" alt="" />
            </div>
            <div class="text-log">
              <h4>كود الاسترجاع</h4>
              <p>ادخل الكود المرسل الى 056245832</p>
            </div>
            <div class="form-group">
              <form onsubmit="onSubmit(event)" class="content-area">
                <fieldset class="number-code">
                  <div>
                    <input name="code" class="code-input" required />
                    <input name="code" class="code-input" required />
                    <input name="code" class="code-input" required />
                    <input name="code" class="code-input" required />
                  </div>
                </fieldset>
                <!-- recod filed -->
                <!-- <div class="form-group">
                    <input type="number" class="form-control recode">
                </div> -->
                <!-- recod filed -->
              </form>
            </div>
            <div class="botton">
              <button type="button" class="btn construction">
                انشاء الحساب
              </button>
            </div>
            <div class="link">
              <a href="#">لم تستلم الكود بعد؟ </a>
              <div class="resend">
                <a href="#">اعادة الارسال بعد ( 00:59 ) </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
<script>
    const inputElements = [...document.querySelectorAll('input.code-input')]

inputElements.forEach((ele,index)=>{
  ele.addEventListener('keydown',(e)=>{
    // if the keycode is backspace & the current field is empty
    // focus the input before the current. Then the event happens
    // which will clear the "before" input box.
    if(e.keyCode === 8 && e.target.value==='') inputElements[Math.max(0,index-1)].focus()
  })
  ele.addEventListener('input',(e)=>{
    // take the first character of the input
    // this actually breaks if you input an emoji like 👨‍👩‍👧‍👦....
    // but I'm willing to overlook insane security code practices.
    const [first,...rest] = e.target.value
    e.target.value = first ?? '' // first will be undefined when backspace was entered, so set the input to ""
    const lastInputBox = index===inputElements.length-1
    const didInsertContent = first!==undefined
    if(didInsertContent && !lastInputBox) {
      // continue to input the rest of the string
      inputElements[index+1].focus()
      inputElements[index+1].value = rest.join('')
      inputElements[index+1].dispatchEvent(new Event('input'))
    }
  })
})


// mini example on how to pull the data on submit of the form
function onSubmit(e){
  e.preventDefault()
  const code = inputElements.map(({value})=>value).join('')
  console.log(code)
}
</script>
    <script src="js/main.js"></script>
  </body>
</html>
